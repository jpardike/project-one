<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/u-show.css">
    <title>Express List</title>
  </head>
  <body>
    <div class="row justify-content-center">
      <h1>Your Profile</h1>
    </div>
    <%- include('../partials/navbar') %> 


    <section>
      <div class="user-info">
        <h3>Profile Info</h3>
        <p>Name: <%= user.name %> </p>
        <p>Username: <%= user.userName %> </p>
        <p>Password: <%= user.password %> </p>
        <p>Location: <%= user.location %> </p>
      </div>
      <div>
        <button class="btn mb-3">
          <a class="button-anchor" href="/products/new">Create New Listing</a>
        </button>
      </div>
      <div class="user-listings">
        <h3>Current Listings</h3>
        <ul>
        <% for (let i = 0; i < user.products.length; i++) { %>
          <li>
            <a class="user-products" href="/products/<%= user.products[i].id %>"><%= user.products[i].type %> </a>
          </li>
        <% } %> 
        </ul>
        
        <form class="user-form-buttons mr-2" action="/users/<%= user.id %>?_method=DELETE" method="POST">
          <input class="btn" type="submit" value="Delete">
        </form>
    
        <form class="user-form-buttons" action="/users/<%= user.id %>/edit" method="GET">
          <input class="btn" type="submit" value="Update">
        </form>

        <div id="map"></div>
       
      </div>
    </section>

    <%- include('../partials/footer') %> 
    <script>
      // Initialize and add the map
      function initMap() {
        // The location of Uluru
        var uluru = {lat: -25.344, lng: 131.036};
        // The map, centered at Uluru
        var map = new google.maps.Map(
            document.getElementById('map'), {zoom: 4, center: uluru});
        // The marker, positioned at Uluru
        var marker = new google.maps.Marker({position: uluru, map: map});
      }
          </script>
    <script defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCCtuOux4U12g2OwrVO10bf48jy8I-PPUI&callback=initMap">
  </script>
  </body>
</html>